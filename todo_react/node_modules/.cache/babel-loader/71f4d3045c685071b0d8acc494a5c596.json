{"ast":null,"code":"var _jsxFileName = \"/Users/drew/Desktop/Code/Elixir/phoenix/todo_phx/todo_react/src/components/Todo.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { deleteTodo, getTodos, updateTodo } from '../jobs';\nimport './todo.css';\nimport 'antd/dist/antd.css';\nimport { Button, message, Modal } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Todo(props) {\n  _s();\n\n  const [completed, setCompleted] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [edit, setEdit] = useState({\n    title: '',\n    id: ''\n  });\n  useEffect(() => {\n    getTodos();\n  }, [setCompleted]);\n\n  const handleComplete = e => {\n    let todo = e.target.value;\n    todo = JSON.parse(todo);\n    todo.complete = !todo.complete;\n    updateTodo(todo).then(() => props.changeState(['new data']));\n    message.info(todo.complete === false ? `${todo.title} Reset` : `${todo.title} Completed`);\n  };\n\n  const handelDelete = e => {\n    deleteTodo(e.target.value).then(() => props.changeState(['deleted todo']));\n    message.info('Task deleted');\n  };\n\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    showModal();\n    updateTodo({ ...edit,\n      title: edit.title,\n      id: props.id\n    }).then(() => props.changeState(['new data']));\n    message.info('Task updated');\n    setVisible(false);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Complete:\", props.complete ? 'Yes' : 'No']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"update\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit\",\n        style: {\n          backgroundColor: '#33bfff'\n        },\n        onClick: showModal,\n        children: \"edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"complete-toggle\",\n        style: props.complete ? {\n          backgroundColor: 'green'\n        } : {\n          backgroundColor: 'red'\n        },\n        value: props.todo,\n        onClick: handleComplete,\n        children: props.complete ? 'Done' : 'complete task'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"delete\",\n        value: props.id,\n        onClick: handelDelete,\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        visible: visible,\n        onOk: handleEdit,\n        title: \"Edit\",\n        footer: null,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEdit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"New Title\",\n            value: edit.title,\n            onChange: e => setEdit({ ...edit,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"submit\",\n            type: \"primary\",\n            onClick: handleEdit,\n            children: \"Submit\"\n          }, \"submit\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"cancel\",\n            onClick: handleCancel,\n            children: [' ', \"Cancel\"]\n          }, \"back\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Todo, \"A7RptzcL/0s9uNmWV5WUaWmBkwo=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["React","useEffect","useState","deleteTodo","getTodos","updateTodo","Button","message","Modal","Todo","props","completed","setCompleted","visible","setVisible","edit","setEdit","title","id","handleComplete","e","todo","target","value","JSON","parse","complete","then","changeState","info","handelDelete","showModal","handleEdit","preventDefault","handleCancel","backgroundColor"],"sources":["/Users/drew/Desktop/Code/Elixir/phoenix/todo_phx/todo_react/src/components/Todo.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { deleteTodo, getTodos, updateTodo } from '../jobs';\nimport './todo.css';\nimport 'antd/dist/antd.css';\nimport { Button, message, Modal } from 'antd';\n\nfunction Todo(props) {\n  const [completed, setCompleted] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [edit, setEdit] = useState({ title: '', id: '' });\n  useEffect(() => {\n    getTodos();\n  }, [setCompleted]);\n\n  const handleComplete = (e) => {\n    let todo = e.target.value;\n    todo = JSON.parse(todo);\n    todo.complete = !todo.complete;\n    updateTodo(todo).then(() => props.changeState(['new data']));\n    message.info(\n      todo.complete === false\n        ? `${todo.title} Reset`\n        : `${todo.title} Completed`,\n    );\n  };\n  const handelDelete = (e) => {\n    deleteTodo(e.target.value).then(() => props.changeState(['deleted todo']));\n    message.info('Task deleted');\n  };\n\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    showModal();\n    updateTodo({ ...edit, title: edit.title, id: props.id }).then(() => props.changeState(['new data']));\n    message.info('Task updated');\n    setVisible(false);\n  };\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <div className=\"todo\">\n      <h4>{props.title}</h4>\n      <p>\n        Complete:\n        {props.complete ? 'Yes' : 'No'}\n      </p>\n      <section className=\"update\">\n        <button\n          className=\"edit\"\n          style={{ backgroundColor: '#33bfff' }}\n          onClick={showModal}\n        >\n          edit\n        </button>\n        <button\n          className=\"complete-toggle\"\n          style={\n            props.complete\n              ? { backgroundColor: 'green' }\n              : { backgroundColor: 'red' }\n          }\n          value={props.todo}\n          onClick={handleComplete}\n        >\n          {props.complete ? 'Done' : 'complete task'}\n        </button>\n        <button\n          type=\"button\"\n          className=\"delete\"\n          value={props.id}\n          onClick={handelDelete}\n        >\n          delete\n        </button>\n\n        <Modal visible={visible} onOk={handleEdit} title=\"Edit\" footer={null}>\n          <form onSubmit={handleEdit}>\n            <input\n              type=\"text\"\n              placeholder=\"New Title\"\n              value={edit.title}\n              onChange={(e) => setEdit({ ...edit, title: e.target.value })}\n            />\n            <Button\n              className=\"submit\"\n              key=\"submit\"\n              type=\"primary\"\n              onClick={handleEdit}\n            >\n              Submit\n            </Button>\n            <Button className=\"cancel\" key=\"back\" onClick={handleCancel}>\n              {' '}\n              Cancel\n            </Button>\n          </form>\n        </Modal>\n      </section>\n    </div>\n  );\n}\n\nexport default Todo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}