{"ast":null,"code":"var _jsxFileName = \"/Users/drew/Desktop/Code/Elixir/phoenix/todo_react/src/components/TodoList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Tabs, Layout, Row, Col, message } from \"antd\";\nimport './TodoList.css';\nimport TodoTab from \"./TodoTab\";\nimport TodoForm from \"./TodoForm\";\nimport { createTodo, deleteTodo, getTodos, updateTodo } from '../Todo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  TabPane\n} = Tabs;\nconst {\n  Content\n} = Layout;\n\nconst TodoList = () => {\n  _s();\n\n  const [refreshing, setRefreshing] = useState(false);\n  const [todos, setTodos] = useState([]);\n  const [activeTodos, setActiveTodos] = useState([]);\n  const [completeTodos, setCompleteTodos] = useState();\n\n  const handleFormSubmit = todo => {\n    console.log('Todo to create', todo);\n    createTodo(todo).then(onRefresh());\n    message.success('Todo added!');\n  };\n\n  const handleRemoveTodo = todo => {\n    deleteTodo(todo.id).then(onRefresh());\n    message.warn('Todo deleted');\n  };\n\n  const handelTodoStatusToggle = todo => {\n    todo.completed = !todo.completed;\n    updateTodo(todo).then(onRefresh());\n    message.info('Todo updated');\n  };\n\n  const refresh = () => {\n    getTodos().then(json => {\n      setTodos(json);\n      setActiveTodos(json.filter(todo => todo.completed === false));\n      setCompleteTodos(json.filter(todo => todo.completed === true));\n    }).then(console.log('fetch complete'));\n  };\n\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    let data = await getTodos();\n    setTodos(data);\n    setActiveTodos(data.filter(todo => todo.completed === false));\n    setCompleteTodos(data.filter(todo => todo.completed === true));\n    setRefreshing(false);\n    console.log('refresh is ', refreshing);\n  }, [refreshing]);\n  useEffect(() => {\n    refresh();\n  }, [onRefresh]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"layout\",\n    children: /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        padding: '0 50px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todolist\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 14,\n            offset: 5,\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Andrew's Todo List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TodoForm, {\n              onFormSubmit: handleFormSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n              defaultActiveKey: \"all\",\n              children: [/*#__PURE__*/_jsxDEV(TabPane, {\n                tab: \"All\",\n                children: /*#__PURE__*/_jsxDEV(TodoTab, {\n                  todos: todos,\n                  onTodoToggle: handelTodoStatusToggle,\n                  onTodoRemoval: handleRemoveTodo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 37\n                }, this)\n              }, \"all\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n                tab: \"Active\",\n                children: /*#__PURE__*/_jsxDEV(TodoTab, {\n                  todos: activeTodos,\n                  onTodoToggle: handelTodoStatusToggle,\n                  onTodoRemoval: handleRemoveTodo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 37\n                }, this)\n              }, \"active\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n                tab: \"Complete\",\n                children: /*#__PURE__*/_jsxDEV(TodoTab, {\n                  todos: completeTodos,\n                  onTodoToggle: handelTodoStatusToggle,\n                  onTodoRemoval: handleRemoveTodo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 37\n                }, this)\n              }, \"complete\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TodoList, \"I5BQBELYLnoLWI1ugKvK79WZKFA=\");\n\n_c = TodoList;\nexport default TodoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Tabs","Layout","Row","Col","message","TodoTab","TodoForm","createTodo","deleteTodo","getTodos","updateTodo","TabPane","Content","TodoList","refreshing","setRefreshing","todos","setTodos","activeTodos","setActiveTodos","completeTodos","setCompleteTodos","handleFormSubmit","todo","console","log","then","onRefresh","success","handleRemoveTodo","id","warn","handelTodoStatusToggle","completed","info","refresh","json","filter","data","padding"],"sources":["/Users/drew/Desktop/Code/Elixir/phoenix/todo_react/src/components/TodoList.jsx"],"sourcesContent":["import React, {useEffect, useState, useCallback} from 'react';\nimport {Tabs, Layout, Row, Col, message} from \"antd\";\nimport './TodoList.css'\nimport TodoTab from \"./TodoTab\";\nimport TodoForm from \"./TodoForm\";\nimport {createTodo, deleteTodo, getTodos, updateTodo} from '../Todo'\nconst{TabPane} = Tabs\nconst {Content} = Layout\n\nconst TodoList = () => {\n    const [refreshing, setRefreshing] =  useState(false)\n    const [todos, setTodos] =  useState([])\n    const [activeTodos, setActiveTodos] =  useState([])\n    const [completeTodos, setCompleteTodos] =  useState()\n\n    const handleFormSubmit = (todo) =>{\n        console.log('Todo to create', todo)\n        createTodo(todo).then(onRefresh())\n        message.success('Todo added!')\n    }\n\n    const handleRemoveTodo = (todo) => {\n        deleteTodo(todo.id).then(onRefresh())\n        message.warn('Todo deleted')\n    }\n\n    const handelTodoStatusToggle = (todo) => {\n        todo.completed = !todo.completed\n        updateTodo(todo).then(onRefresh())\n        message.info('Todo updated')\n    }\n\n    const refresh = () =>{\n        getTodos().then(json => {\n            setTodos(json)\n            setActiveTodos(json.filter(todo => todo.completed === false))\n            setCompleteTodos(json.filter(todo => todo.completed === true))\n\n        }).then(console.log('fetch complete'))\n    }\n\n    const onRefresh = useCallback(async () => {\n        setRefreshing(true)\n        let data = await getTodos()\n        setTodos(data)\n        setActiveTodos(data.filter(todo => todo.completed === false))\n        setCompleteTodos(data.filter(todo => todo.completed === true))\n        setRefreshing(false)\n        console.log('refresh is ', refreshing)\n    }, [refreshing])\n    useEffect(() =>{\n        refresh()\n    },[onRefresh])\n\n    return (\n        <Layout className={\"layout\"}>\n            <Content style={{ padding: '0 50px'}}>\n                <div className={\"todolist\"}>\n                    <Row>\n                        <Col span={14} offset={5}>\n                            <h1>Andrew's Todo List</h1>\n                            <TodoForm onFormSubmit={handleFormSubmit}></TodoForm>\n                            <br/>\n                            <Tabs defaultActiveKey={\"all\"}>\n                                <TabPane tab={\"All\"} key={\"all\"}>\n                                    <TodoTab todos={todos} onTodoToggle={handelTodoStatusToggle} onTodoRemoval={handleRemoveTodo}>\n\n                                    </TodoTab>\n\n                                </TabPane>\n                                <TabPane tab={\"Active\"} key={\"active\"}>\n                                    <TodoTab todos={activeTodos} onTodoToggle={handelTodoStatusToggle} onTodoRemoval={handleRemoveTodo}>\n\n                                    </TodoTab>\n\n                                </TabPane>\n                                <TabPane tab={\"Complete\"} key={\"complete\"}>\n                                    <TodoTab todos={completeTodos} onTodoToggle={handelTodoStatusToggle} onTodoRemoval={handleRemoveTodo}>\n\n                                    </TodoTab>\n\n                                </TabPane>\n\n                            </Tabs>\n                        </Col>\n                    </Row>\n                </div>\n            </Content>\n\n        </Layout>\n    )\n}\n\nexport default TodoList"],"mappings":"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"},"metadata":{},"sourceType":"module"}