{"ast":null,"code":"var _jsxFileName = \"/Users/drew/Desktop/Code/Elixir/phoenix/todo_phx/todo_react/src/components/Todo.jsx\",\n    _s = $RefreshSig$();\n\n// noinspection JSIgnoredPromiseFromCall\nimport React, { useEffect, useState } from 'react';\nimport { Button, message, Modal, Popconfirm } from 'antd';\nimport { deleteTodo, getTodos, updateTodo } from '../jobs';\nimport './todo.css';\nimport 'antd/dist/antd.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Todo(_ref) {\n  _s();\n\n  let {\n    // eslint-disable-next-line react/prop-types\n    changeState,\n    complete,\n    id,\n    title,\n    todo\n  } = _ref;\n  // eslint-disable-next-line no-unused-vars\n  const [completed, setCompleted] = useState(false);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [popconfirmVisible, setPopconfirmVisable] = useState(false);\n  const [edit, setEdit] = useState({\n    title: '',\n    id: ''\n  });\n  useEffect(() => {\n    getTodos();\n  }, [setCompleted]);\n\n  const handleComplete = e => {\n    // eslint-disable-next-line no-shadow\n    let todo = e.target.value;\n    todo = JSON.parse(todo);\n    todo.complete = !todo.complete;\n    updateTodo(todo).then(() => changeState(['new data']));\n    message.info(todo.complete === false ? `${todo.title} Reset` : `${todo.title} Completed`);\n  };\n\n  const handelDelete = e => {\n    deleteTodo(e.target.value).then(() => changeState(['deleted todo']));\n    message.info('Task deleted');\n  };\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    showModal();\n    updateTodo({ ...edit,\n      title: edit.title,\n      id\n    }).then(() => changeState(['new data']));\n    message.info('Task updated');\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    setPopconfirmVisable(false);\n  };\n\n  const showPopconfirm = () => {\n    setPopconfirmVisable(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Complete:\", complete ? 'Yes' : 'No']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"update\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"edit\",\n        style: {\n          backgroundColor: '#33bfff'\n        },\n        onClick: showModal,\n        children: \"edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"complete-toggle\",\n        style: // eslint-disable-next-line react/prop-types\n        complete ? {\n          backgroundColor: 'green'\n        } : {\n          backgroundColor: 'red'\n        },\n        value: todo,\n        onClick: handleComplete,\n        children: complete ? 'Done' : 'complete task'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"delete\",\n        visible: popconfirmVisible,\n        onConfirm: handelDelete,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"delete\",\n          value: id,\n          onClick: showPopconfirm,\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        visible: isModalVisible,\n        onOk: handleEdit,\n        title: \"Edit\",\n        footer: null,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEdit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"New Title\",\n            value: edit.title,\n            onChange: e => setEdit({ ...edit,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"submit\",\n            type: \"primary\",\n            onClick: handleEdit,\n            children: \"Submit\"\n          }, \"submit\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"cancel\",\n            onClick: handleCancel,\n            children: [' ', \"Cancel\"]\n          }, \"back\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Todo, \"VYL8azpaA8YSoywK0jpXNgLuSpQ=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["React","useEffect","useState","Button","message","Modal","Popconfirm","deleteTodo","getTodos","updateTodo","Todo","changeState","complete","id","title","todo","completed","setCompleted","isModalVisible","setIsModalVisible","popconfirmVisible","setPopconfirmVisable","edit","setEdit","handleComplete","e","target","value","JSON","parse","then","info","handelDelete","showModal","handleEdit","preventDefault","handleCancel","showPopconfirm","backgroundColor"],"sources":["/Users/drew/Desktop/Code/Elixir/phoenix/todo_phx/todo_react/src/components/Todo.jsx"],"sourcesContent":["// noinspection JSIgnoredPromiseFromCall\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  Button, message, Modal, Popconfirm,\n} from 'antd';\nimport { deleteTodo, getTodos, updateTodo } from '../jobs';\nimport './todo.css';\nimport 'antd/dist/antd.css';\n\nfunction Todo({\n  // eslint-disable-next-line react/prop-types\n  changeState, complete, id, title, todo,\n}) {\n  // eslint-disable-next-line no-unused-vars\n  const [completed, setCompleted] = useState(false);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [popconfirmVisible, setPopconfirmVisable] = useState(false);\n  const [edit, setEdit] = useState({ title: '', id: '' });\n  useEffect(() => {\n    getTodos();\n  }, [setCompleted]);\n\n  const handleComplete = (e) => {\n    // eslint-disable-next-line no-shadow\n    let todo = e.target.value;\n    todo = JSON.parse(todo);\n    todo.complete = !todo.complete;\n    updateTodo(todo).then(() => changeState(['new data']));\n    message.info(\n      todo.complete === false\n        ? `${todo.title} Reset`\n        : `${todo.title} Completed`,\n    );\n  };\n  const handelDelete = (e) => {\n    deleteTodo(e.target.value).then(() => changeState(['deleted todo']));\n    message.info('Task deleted');\n  };\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    showModal();\n    updateTodo({ ...edit, title: edit.title, id }).then(() => changeState(['new data']));\n    message.info('Task updated');\n    setIsModalVisible(false);\n  };\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    setPopconfirmVisable(false);\n  };\n  const showPopconfirm = () => {\n    setPopconfirmVisable(true);\n  };\n\n  return (\n    <div className=\"todo\">\n      <h4>{title}</h4>\n      <p>\n        Complete:\n        {complete ? 'Yes' : 'No'}\n      </p>\n      <section className=\"update\">\n        <button\n          type=\"button\"\n          className=\"edit\"\n          style={{ backgroundColor: '#33bfff' }}\n          onClick={showModal}\n        >\n          edit\n        </button>\n        <button\n          type=\"button\"\n          className=\"complete-toggle\"\n          style={\n            // eslint-disable-next-line react/prop-types\n            complete\n              ? { backgroundColor: 'green' }\n              : { backgroundColor: 'red' }\n          }\n          value={todo}\n          onClick={handleComplete}\n        >\n          {complete ? 'Done' : 'complete task'}\n        </button>\n        <Popconfirm title=\"delete\" visible={popconfirmVisible} onConfirm={handelDelete} onCancel={handleCancel}>\n          <button\n            type=\"button\"\n            className=\"delete\"\n            value={id}\n            onClick={showPopconfirm}\n          >\n            delete\n          </button>\n        </Popconfirm>\n\n        <Modal visible={isModalVisible} onOk={handleEdit} title=\"Edit\" footer={null}>\n          <form onSubmit={handleEdit}>\n            <input\n              type=\"text\"\n              placeholder=\"New Title\"\n              value={edit.title}\n              onChange={(e) => setEdit({ ...edit, title: e.target.value })}\n            />\n            <Button\n              className=\"submit\"\n              key=\"submit\"\n              type=\"primary\"\n              onClick={handleEdit}\n            >\n              Submit\n            </Button>\n            <Button className=\"cancel\" key=\"back\" onClick={handleCancel}>\n              {' '}\n              Cancel\n            </Button>\n          </form>\n        </Modal>\n      </section>\n    </div>\n  );\n}\n\nexport default Todo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}